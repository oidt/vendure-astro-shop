---
import type { FacetValue } from "~/utils";
type Props = {
  facets: Record<string, FacetValue[]>;
  facetValueIds: string[];
};
const { facets, facetValueIds } = Astro.props;
---

<form>
  {
    Object.keys(facets).map((k) => {
      return (
        <div>
          <h3 class="m-2 font-medium uppercase text-gray-700">{k}</h3>
          {facets[k].map((v) => {
            return (
              <div>
                <label class="ml-3 text-sm text-gray-600">
                  <input
                    name="facetValueID"
                    type="checkbox"
                    class="m-1 h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"
                    checked={facetValueIds.includes(v.id)}
                    value={v.id}
                    onchange="this.form.submit()"
                  />
                  {v.name} ({v.count})
                </label>
              </div>
            );
          })}
        </div>
      );
    })
  }
</form>
